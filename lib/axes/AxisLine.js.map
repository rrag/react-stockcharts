{"version":3,"sources":["../../src/lib/axes/AxisLine.js"],"names":["AxisLine","props","orient","outerTickSize","fill","stroke","strokeWidth","className","shapeRendering","opacity","range","sign","d","propTypes","string","isRequired","scale","func","number","array","defaultProps","drawOnCanvasStatic","ctx","xAxis","lineWidth","strokeStyle","beginPath","moveTo","lineTo"],"mappings":";;;;;;;;;;AAEA;;;;AACA;;;;AAEA;;;;;;;;;;AAEA;;;;;;;;;;IAUMA,Q;;;;;;;;;;;2BACI;AAAA,gBACgG,KAAKC,KADrG;AAAA,OACAC,MADA,UACAA,MADA;AAAA,OACQC,aADR,UACQA,aADR;AAAA,OACuBC,IADvB,UACuBA,IADvB;AAAA,OAC6BC,MAD7B,UAC6BA,MAD7B;AAAA,OACqCC,WADrC,UACqCA,WADrC;AAAA,OACkDC,SADlD,UACkDA,SADlD;AAAA,OAC6DC,cAD7D,UAC6DA,cAD7D;AAAA,OAC6EC,OAD7E,UAC6EA,OAD7E;AAAA,OACsFC,KADtF,UACsFA,KADtF;;AAER,OAAMC,OAAOT,WAAW,KAAX,IAAoBA,WAAW,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;;AAEA;;AAEA,OAAIU,UAAJ;;AAEA,OAAIV,WAAW,QAAX,IAAuBA,WAAW,KAAtC,EAA6C;AAC5CU,QAAI,MAAMF,MAAM,CAAN,CAAN,GAAiB,GAAjB,GAAuBC,OAAOR,aAA9B,GAA8C,KAA9C,GAAsDO,MAAM,CAAN,CAAtD,GAAiE,GAAjE,GAAuEC,OAAOR,aAAlF;AACA,IAFD,MAEO;AACNS,QAAI,MAAMD,OAAOR,aAAb,GAA6B,GAA7B,GAAmCO,MAAM,CAAN,CAAnC,GAA8C,KAA9C,GAAsDA,MAAM,CAAN,CAAtD,GAAiE,GAAjE,GAAuEC,OAAOR,aAAlF;AACA;;AAED,UACC;AACC,eAAWI,SADZ;AAEC,oBAAgBC,cAFjB;AAGC,OAAGI,CAHJ;AAIC,UAAMR,IAJP;AAKC,aAASK,OALV;AAMC,YAAQJ,MANT;AAOC,iBAAaC,WAPd,GADD;AAWA;;;;;;AAGFN,SAASa,SAAT,GAAqB;AACpBN,YAAW,oBAAUO,MADD;AAEpBN,iBAAgB,oBAAUM,MAFN;AAGpBZ,SAAQ,oBAAUY,MAAV,CAAiBC,UAHL;AAIpBC,QAAO,oBAAUC,IAAV,CAAeF,UAJF;AAKpBZ,gBAAe,oBAAUe,MALL;AAMpBd,OAAM,oBAAUU,MANI;AAOpBT,SAAQ,oBAAUS,MAPE;AAQpBR,cAAa,oBAAUY,MARH;AASpBT,UAAS,oBAAUS,MATC;AAUpBR,QAAO,oBAAUS;AAVG,CAArB;;AAaAnB,SAASoB,YAAT,GAAwB;AACvBb,YAAW,6BADY;AAEvBC,iBAAgB,YAFO;AAGvBL,gBAAe,CAHQ;AAIvBC,OAAM,MAJiB;AAKvBC,SAAQ,SALe;AAMvBC,cAAa,CANU;AAOvBG,UAAS;AAPc,CAAxB;;AAUAT,SAASqB,kBAAT,GAA8B,UAACpB,KAAD,EAAQqB,GAAR,CAAW,qBAAX,EAAqC;AAClErB,sBAAaD,SAASoB,YAAtB,EAAuCnB,KAAvC;;AADkE,eAGKA,KAHL;AAAA,KAG1DC,MAH0D,WAG1DA,MAH0D;AAAA,KAGlDC,aAHkD,WAGlDA,aAHkD;AAAA,KAGnCE,MAHmC,WAGnCA,MAHmC;AAAA,KAG3BC,WAH2B,WAG3BA,WAH2B;AAAA,KAGdG,OAHc,WAGdA,OAHc;AAAA,KAGLC,KAHK,WAGLA,KAHK;;;AAKlE,KAAMC,OAAOT,WAAW,KAAX,IAAoBA,WAAW,MAA/B,GAAwC,CAAC,CAAzC,GAA6C,CAA1D;AACA,KAAMqB,QAASrB,WAAW,QAAX,IAAuBA,WAAW,KAAjD;;AAEA;;AAEAoB,KAAIE,SAAJ,GAAgBlB,WAAhB;AACAgB,KAAIG,WAAJ,GAAkB,sBAAUpB,MAAV,EAAkBI,OAAlB,CAAlB;;AAEAa,KAAII,SAAJ;;AAEA,KAAIH,KAAJ,EAAW;AACVD,MAAIK,MAAJ,CAAW,kBAAMjB,KAAN,CAAX,EAAyBC,OAAOR,aAAhC;AACAmB,MAAIM,MAAJ,CAAW,kBAAMlB,KAAN,CAAX,EAAyB,CAAzB;AACAY,MAAIM,MAAJ,CAAW,iBAAKlB,KAAL,CAAX,EAAwB,CAAxB;AACAY,MAAIM,MAAJ,CAAW,iBAAKlB,KAAL,CAAX,EAAwBC,OAAOR,aAA/B;AACA,EALD,MAKO;AACNmB,MAAIK,MAAJ,CAAWhB,OAAOR,aAAlB,EAAiC,kBAAMO,KAAN,CAAjC;AACAY,MAAIM,MAAJ,CAAW,CAAX,EAAc,kBAAMlB,KAAN,CAAd;AACAY,MAAIM,MAAJ,CAAW,CAAX,EAAc,iBAAKlB,KAAL,CAAd;AACAY,MAAIM,MAAJ,CAAWjB,OAAOR,aAAlB,EAAiC,iBAAKO,KAAL,CAAjC;AACA;AACDY,KAAIjB,MAAJ;;AAEA;AACA,CA7BD;;kBA+BeL,Q","file":"AxisLine.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { first, last, hexToRGBA } from \"../utils\";\r\n\r\n/*\r\nfunction d3_scaleExtent(domain) {\r\n\tvar start = domain[0], stop = domain[domain.length - 1];\r\n\treturn start < stop ? [start, stop] : [stop, start];\r\n}\r\n\r\nfunction d3_scaleRange(scale) {\r\n\treturn scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\r\n}\r\n*/\r\nclass AxisLine extends Component {\r\n\trender() {\r\n\t\tconst { orient, outerTickSize, fill, stroke, strokeWidth, className, shapeRendering, opacity, range } = this.props;\r\n\t\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\r\n\t\t// var range = d3_scaleRange(scale);\r\n\r\n\t\tlet d;\r\n\r\n\t\tif (orient === \"bottom\" || orient === \"top\") {\r\n\t\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\r\n\t\t} else {\r\n\t\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<path\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tshapeRendering={shapeRendering}\r\n\t\t\t\td={d}\r\n\t\t\t\tfill={fill}\r\n\t\t\t\topacity={opacity}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={strokeWidth} >\r\n\t\t\t</path>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAxisLine.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\tshapeRendering: PropTypes.string,\r\n\torient: PropTypes.string.isRequired,\r\n\tscale: PropTypes.func.isRequired,\r\n\touterTickSize: PropTypes.number,\r\n\tfill: PropTypes.string,\r\n\tstroke: PropTypes.string,\r\n\tstrokeWidth: PropTypes.number,\r\n\topacity: PropTypes.number,\r\n\trange: PropTypes.array,\r\n};\r\n\r\nAxisLine.defaultProps = {\r\n\tclassName: \"react-stockcharts-axis-line\",\r\n\tshapeRendering: \"crispEdges\",\r\n\touterTickSize: 0,\r\n\tfill: \"none\",\r\n\tstroke: \"#000000\",\r\n\tstrokeWidth: 1,\r\n\topacity: 1,\r\n};\r\n\r\nAxisLine.drawOnCanvasStatic = (props, ctx/* , xScale, yScale*/) => {\r\n\tprops = { ...AxisLine.defaultProps, ...props };\r\n\r\n\tconst { orient, outerTickSize, stroke, strokeWidth, opacity, range } = props;\r\n\r\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\r\n\tconst xAxis = (orient === \"bottom\" || orient === \"top\");\r\n\r\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\r\n\r\n\tctx.lineWidth = strokeWidth;\r\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\r\n\r\n\tctx.beginPath();\r\n\r\n\tif (xAxis) {\r\n\t\tctx.moveTo(first(range), sign * outerTickSize);\r\n\t\tctx.lineTo(first(range), 0);\r\n\t\tctx.lineTo(last(range), 0);\r\n\t\tctx.lineTo(last(range), sign * outerTickSize);\r\n\t} else {\r\n\t\tctx.moveTo(sign * outerTickSize, first(range));\r\n\t\tctx.lineTo(0, first(range));\r\n\t\tctx.lineTo(0, last(range));\r\n\t\tctx.lineTo(sign * outerTickSize, last(range));\r\n\t}\r\n\tctx.stroke();\r\n\r\n\t// ctx.strokeStyle = strokeStyle;\r\n};\r\n\r\nexport default AxisLine;\r\n"]}