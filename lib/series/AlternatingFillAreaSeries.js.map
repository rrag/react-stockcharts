{"version":3,"sources":["../../src/lib/series/AlternatingFillAreaSeries.js"],"names":["AlternatingFillAreaSeries","props","renderClip","bind","topClip","bottomClip","baseAt","id1","String","Math","round","random","clipPathId1","id2","clipPathId2","ctx","moreProps","chartConfig","yScale","width","beginPath","rect","clip","height","className","yAccessor","interpolation","stroke","strokeWidth","strokeOpacity","strokeDasharray","fill","fillOpacity","style1","style2","top","bottom","propTypes","shape","string","number","oneOf","isRequired","func","defaultProps"],"mappings":"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","file":"AlternatingFillAreaSeries.js","sourcesContent":["\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport AreaSeries from \"./AreaSeries\";\r\nimport SVGComponent from \"./SVGComponent\";\r\nimport { strokeDashTypes } from \"../utils\";\r\n\r\nclass AlternatingFillAreaSeries extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderClip = this.renderClip.bind(this);\r\n\t\tthis.topClip = this.topClip.bind(this);\r\n\t\tthis.bottomClip = this.bottomClip.bind(this);\r\n\t\tthis.baseAt = this.baseAt.bind(this);\r\n\r\n\t\tconst id1 = String(Math.round(Math.random() * 10000 * 10000));\r\n\t\tthis.clipPathId1 = `alternating-area-clip-${id1}`;\r\n\r\n\t\tconst id2 = String(Math.round(Math.random() * 10000 * 10000));\r\n\t\tthis.clipPathId2 = `alternating-area-clip-${id2}`;\r\n\t}\r\n\ttopClip(ctx, moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width } = chartConfig;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(\r\n\t\t\t0,\r\n\t\t\t0,\r\n\t\t\twidth,\r\n\t\t\tyScale(baseAt)\r\n\t\t);\r\n\t\tctx.clip();\r\n\t}\r\n\tbottomClip(ctx, moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width, height } = chartConfig;\r\n\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(\r\n\t\t\t0,\r\n\t\t\tyScale(baseAt),\r\n\t\t\twidth,\r\n\t\t\theight - yScale(baseAt)\r\n\t\t);\r\n\t\tctx.clip();\r\n\t}\r\n\trenderClip(moreProps) {\r\n\t\tconst { chartConfig } = moreProps;\r\n\t\tconst { baseAt } = this.props;\r\n\t\tconst { yScale, width, height } = chartConfig;\r\n\r\n\t\treturn (\r\n\t\t\t<defs>\r\n\t\t\t\t<clipPath id={this.clipPathId1}>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tx={0}\r\n\t\t\t\t\t\ty={0}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\theight={yScale(baseAt)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</clipPath>\r\n\t\t\t\t<clipPath id={this.clipPathId2}>\r\n\t\t\t\t\t<rect\r\n\t\t\t\t\t\tx={0}\r\n\t\t\t\t\t\ty={yScale(baseAt)}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t\theight={height - yScale(baseAt)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</clipPath>\r\n\t\t\t</defs>\r\n\t\t);\r\n\t}\r\n\tbaseAt(yScale) {\r\n\t\treturn yScale(this.props.baseAt);\r\n\t}\r\n\trender() {\r\n\t\tconst { className, yAccessor, interpolation } = this.props;\r\n\t\tconst {\r\n\t\t\tstroke,\r\n\t\t\tstrokeWidth,\r\n\t\t\tstrokeOpacity,\r\n\t\t\tstrokeDasharray,\r\n\r\n\t\t\tfill,\r\n\t\t\tfillOpacity,\r\n\t\t} = this.props;\r\n\r\n\t\tconst style1 = { \"clipPath\": `url(#${this.clipPathId1})` };\r\n\t\tconst style2 = { \"clipPath\": `url(#${this.clipPathId2})` };\r\n\r\n\t\treturn (\r\n\t\t\t<g className={className}>\r\n\t\t\t\t<SVGComponent>\r\n\t\t\t\t\t{this.renderClip}\r\n\t\t\t\t</SVGComponent>\r\n\t\t\t\t<AreaSeries\r\n\t\t\t\t\tstyle={style1}\r\n\t\t\t\t\tcanvasClip={this.topClip}\r\n\r\n\t\t\t\t\tyAccessor={yAccessor}\r\n\t\t\t\t\tinterpolation={interpolation}\r\n\t\t\t\t\tbaseAt={this.baseAt}\r\n\r\n\t\t\t\t\tfill={fill.top}\r\n\t\t\t\t\topacity={fillOpacity.top}\r\n\t\t\t\t\tstroke={stroke.top}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity.top}\r\n\t\t\t\t\tstrokeDasharray={strokeDasharray.top}\r\n\t\t\t\t\tstrokeWidth={strokeWidth.top}\r\n\t\t\t\t/>\r\n\t\t\t\t<AreaSeries\r\n\t\t\t\t\tstyle={style2}\r\n\t\t\t\t\tcanvasClip={this.bottomClip}\r\n\r\n\t\t\t\t\tyAccessor={yAccessor}\r\n\t\t\t\t\tinterpolation={interpolation}\r\n\t\t\t\t\tbaseAt={this.baseAt}\r\n\r\n\t\t\t\t\tfill={fill.bottom}\r\n\t\t\t\t\topacity={fillOpacity.bottom}\r\n\t\t\t\t\tstroke={stroke.bottom}\r\n\t\t\t\t\tstrokeOpacity={strokeOpacity.bottom}\r\n\t\t\t\t\tstrokeDasharray={strokeDasharray.bottom}\r\n\t\t\t\t\tstrokeWidth={strokeWidth.bottom}\r\n\t\t\t\t/>\r\n\t\t\t</g>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nAlternatingFillAreaSeries.propTypes = {\r\n\tstroke: PropTypes.shape({\r\n\t\ttop: PropTypes.string,\r\n\t\tbottom: PropTypes.string,\r\n\t}),\r\n\r\n\tstrokeWidth: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tstrokeOpacity: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tfill: PropTypes.shape({\r\n\t\ttop: PropTypes.string,\r\n\t\tbottom: PropTypes.string,\r\n\t}),\r\n\tfillOpacity: PropTypes.shape({\r\n\t\ttop: PropTypes.number,\r\n\t\tbottom: PropTypes.number,\r\n\t}),\r\n\tstrokeDasharray: PropTypes.shape({\r\n\t\ttop: PropTypes.oneOf(strokeDashTypes),\r\n\t\tbottom: PropTypes.oneOf(strokeDashTypes),\r\n\t}).isRequired,\r\n\r\n\tclassName: PropTypes.string,\r\n\tyAccessor: PropTypes.func.isRequired,\r\n\r\n\tbaseAt: PropTypes.number.isRequired,\r\n\r\n\tinterpolation: PropTypes.func,\r\n};\r\n\r\nAlternatingFillAreaSeries.defaultProps = {\r\n\tstroke: {\r\n\t\ttop: \"#38C172\",\r\n\t\tbottom: \"#E3342F\"\r\n\t},\r\n\tstrokeWidth: {\r\n\t\ttop: 2,\r\n\t\tbottom: 2,\r\n\t},\r\n\tstrokeOpacity: {\r\n\t\ttop: 1,\r\n\t\tbottom: 1,\r\n\t},\r\n\tfill: {\r\n\t\ttop: \"#A2F5BF\",\r\n\t\tbottom: \"#EF5753\",\r\n\t},\r\n\tfillOpacity: {\r\n\t\ttop: 0.5,\r\n\t\tbottom: 0.5,\r\n\t},\r\n\tstrokeDasharray: {\r\n\t\ttop: \"Solid\",\r\n\t\tbottom: \"Solid\",\r\n\t},\r\n\tclassName: \"react-stockcharts-alternating-area\",\r\n};\r\n\r\nexport default AlternatingFillAreaSeries;\r\n"]}