{"version":3,"sources":["../../src/lib/series/StraightLine.js"],"names":["StraightLine","props","renderSVG","bind","drawOnCanvas","ctx","moreProps","type","stroke","strokeWidth","opacity","strokeDasharray","yValue","xValue","xScale","chartConfig","yScale","width","height","beginPath","strokeStyle","lineWidth","getLineCoordinates","x1","y1","x2","y2","setLineDash","split","moveTo","lineTo","className","lineCoordinates","Math","round","propTypes","string","oneOf","number","isRequired","propName","Error","defaultProps"],"mappings":"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","file":"StraightLine.js","sourcesContent":["\r\n\r\nimport React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { hexToRGBA, isDefined, isNotDefined, strokeDashTypes, getStrokeDasharray } from \"../utils\";\r\n\r\nimport GenericChartComponent from \"../GenericChartComponent\";\r\nimport { getAxisCanvas } from \"../GenericComponent\";\r\n\r\nclass StraightLine extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.renderSVG = this.renderSVG.bind(this);\r\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\r\n\t}\r\n\tdrawOnCanvas(ctx, moreProps) {\r\n\t\tconst { type, stroke, strokeWidth, opacity, strokeDasharray } = this.props;\r\n\t\tconst { yValue, xValue } = this.props;\r\n\t\tconst { xScale } = moreProps;\r\n\t\tconst { chartConfig: { yScale, width, height } } = moreProps;\r\n\r\n\t\tctx.beginPath();\r\n\r\n\t\tctx.strokeStyle = hexToRGBA(stroke, opacity);\r\n\t\tctx.lineWidth = strokeWidth;\r\n\r\n\t\tconst { x1, y1, x2, y2 } = getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height);\r\n\r\n\t\tctx.setLineDash(getStrokeDasharray(strokeDasharray).split(\",\"));\r\n\t\tctx.moveTo(x1, y1);\r\n\t\tctx.lineTo(x2, y2);\r\n\t\tctx.stroke();\r\n\t}\r\n\trender() {\r\n\t\treturn <GenericChartComponent\r\n\t\t\tsvgDraw={this.renderSVG}\r\n\t\t\tcanvasDraw={this.drawOnCanvas}\r\n\t\t\tcanvasToDraw={getAxisCanvas}\r\n\t\t\tdrawOn={[\"pan\"]}\r\n\t\t/>;\r\n\t}\r\n\trenderSVG(moreProps) {\r\n\t\tconst { width, height } = moreProps;\r\n\t\tconst { xScale, chartConfig: { yScale } } = moreProps;\r\n\r\n\t\tconst { className } = this.props;\r\n\t\tconst { type, stroke, strokeWidth, opacity, strokeDasharray } = this.props;\r\n\t\tconst { yValue, xValue } = this.props;\r\n\r\n\t\tconst lineCoordinates = getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height);\r\n\r\n\t\treturn (\r\n\t\t\t<line\r\n\t\t\t\tclassName={className}\r\n\t\t\t\tstrokeDasharray={getStrokeDasharray(strokeDasharray)}\r\n\t\t\t\tstroke={stroke}\r\n\t\t\t\tstrokeWidth={strokeWidth}\r\n\t\t\t\tstrokeOpacity={opacity}\r\n\t\t\t\t{...lineCoordinates}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction getLineCoordinates(type, xScale, yScale, xValue, yValue, width, height) {\r\n\treturn type === \"horizontal\"\r\n\t\t? { x1: 0, y1: Math.round(yScale(yValue)), x2: width, y2: Math.round(yScale(yValue)) }\r\n\t\t: { x1: Math.round(xScale(xValue)), y1: 0, x2: Math.round(xScale(xValue)), y2: height };\r\n}\r\n\r\nStraightLine.propTypes = {\r\n\tclassName: PropTypes.string,\r\n\ttype: PropTypes.oneOf([\"vertical\", \"horizontal\"]),\r\n\tstroke: PropTypes.string,\r\n\tstrokeWidth: PropTypes.number,\r\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\r\n\topacity: PropTypes.number.isRequired,\r\n\tyValue: function(props, propName/* , componentName */) {\r\n\t\tif (props.type === \"vertical\" && isDefined(props[propName])) return new Error(\"Do not define `yValue` when type is `vertical`, define the `xValue` prop\");\r\n\t\tif (props.type === \"horizontal\" && isNotDefined(props[propName])) return new Error(\"when type = `horizontal` `yValue` is required\");\r\n\t\t// if (isDefined(props[propName]) && typeof props[propName] !== \"number\") return new Error(\"prop `yValue` accepts a number\");\r\n\t},\r\n\txValue: function(props, propName/* , componentName */) {\r\n\t\tif (props.type === \"horizontal\" && isDefined(props[propName])) return new Error(\"Do not define `xValue` when type is `horizontal`, define the `yValue` prop\");\r\n\t\tif (props.type === \"vertical\" && isNotDefined(props[propName])) return new Error(\"when type = `vertical` `xValue` is required\");\r\n\t\t// if (isDefined(props[propName]) && typeof props[propName] !== \"number\") return new Error(\"prop `xValue` accepts a number\");\r\n\t},\r\n};\r\n\r\nStraightLine.defaultProps = {\r\n\tclassName: \"line \",\r\n\ttype: \"horizontal\",\r\n\tstroke: \"#000000\",\r\n\topacity: 0.5,\r\n\tstrokeWidth: 1,\r\n\tstrokeDasharray: \"Solid\",\r\n};\r\n\r\nexport default StraightLine;\r\n"]}